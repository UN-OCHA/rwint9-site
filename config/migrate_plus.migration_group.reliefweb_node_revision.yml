uuid: 42111702-3459-44d3-b916-fdcc8d2f5519
langcode: en
status: true
dependencies:
  enforced:
    module:
      - reliefweb_migrate
_core:
  default_config_hash: 3f_FAERYfXmQSZl-6GcYq__xTZddEHc3cDddioXgBbo
id: reliefweb_node_revision
label: 'ReliefWeb Migration - Node revisions'
description: 'Migrate ReliefWeb node revisions from Drupal 7 to Drupal 9.'
source_type: 'Drupal 7'
module: null
shared_configuration:
  migration_tags:
    - node
    - node_revision
  dependencies:
    enforced:
      module:
        - reliefweb_migrate
  source:
    key: rwint7
    plugin: reliefweb_node_revision
    constants:
      format: markdown
    batch_size: 1000
    high_water_property:
      name: vid
      alias: nr
  destination:
    plugin: 'reliefweb_entity_revision:node'
  process:
    nid: nid
    uid:
      plugin: static_map
      bypass: true
      source: uid
      map:
        - 2
        - 2
    type: type
    title: title
    created: created
    changed: changed
    status:
      plugin: static_map
      source: field_status/0/value
      default_value: 0
      map:
        published: 1
        to-review: 1
    moderation_status:
      plugin: static_map
      source: field_status/0/value
      default_value: draft
      map:
        archive: archive
        draft: draft
        duplicate: duplicate
        expired: expired
        embargoed: embargoed
        on-hold: on-hold
        pending: pending
        published: published
        reference: reference
        refused: refused
        to-review: to-review
    vid: vid
    revision_uid:
      plugin: static_map
      bypass: true
      source: revision_user
      map:
        - 2
        - 2
    revision_log: revision_log_message
    revision_timestamp: revision_created
    revision_default: revision_default
    body/value:
      plugin: skip_on_empty
      method: process
      source: body/0/value
    body/format:
      plugin: static_map
      default_value: markdown
      map:
        full_html: html
        legacy: markdown
        markdown: markdown
        plain_text: markdown
        token_markdown: token_markdown
    path/pathauto:
      plugin: default_value
      default_value: 0
    notifications_content_disable:
      plugin: default_value
      default_value: 1
    _is_migrating:
      plugin: default_value
      default_value: 1
